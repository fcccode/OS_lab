$(build_dir)/kernel/%.o: kernel/%.cpp
	@mkdir -p $(@D)
	$(CXX) $(CXXFLAGS) -I basic_lib -c $< -o $@

$(build_dir)/kernel/%.o: kernel/%.S
	@mkdir -p $(@D)
	$(AS) $(ASELF) $< -o $@